<div class="igc-settings-container">
    <div class="inline-drawer">
        <div class="inline-drawer-toggle inline-drawer-header">
            <b>Image Generation Clone</b>
            <div class="inline-drawer-icon fa-solid fa-circle-chevron-down down"></div>
        </div>
        <div class="inline-drawer-content">
            <!-- Generation Mode -->
            <div class="igc-section-header">Generation Mode</div>
            <div class="igc-settings-row">
                <label for="igc_mode">Mode:</label>
                <select id="igc_mode">
                    <option value="0">Yourself</option>
                    <option value="5">Your Face</option>
                    <option value="1">Me</option>
                    <option value="2">The Whole Story</option>
                    <option value="4">The Last Message</option>
                    <option value="3">Raw Last Message</option>
                    <option value="7">Background</option>
                </select>
            </div>

            <!-- Prompt Settings -->
            <div class="igc-section-header">Prompt Settings</div>
            <div class="igc-settings-row igc-textarea-row">
                <label for="igc_prefix">Prompt Prefix:</label>
                <textarea id="igc_prefix" placeholder="best quality, absurdres, aesthetic,"></textarea>
            </div>

            <div class="igc-settings-row igc-checkbox-row">
                <input type="checkbox" id="igc_descriptive_prompt">
                <label for="igc_descriptive_prompt">Descriptive prompt (natural language for DALL-E, Flux, etc.)</label>
            </div>

            <div id="igc_descriptive_template_section" class="igc-hidden">
                <div class="igc-settings-row igc-checkbox-row">
                    <input type="checkbox" id="igc_descriptive_custom_prompt">
                    <label for="igc_descriptive_custom_prompt">Apply descriptive template to custom prompts</label>
                </div>
                <div class="igc-settings-row">
                    <label for="igc_descriptive_template_mode">Edit Template For:</label>
                    <select id="igc_descriptive_template_mode">
                        <option value="0">Yourself</option>
                        <option value="5">Your Face</option>
                        <option value="1">Me</option>
                        <option value="2">The Whole Story</option>
                        <option value="4">The Last Message</option>
                        <option value="7">Background</option>
                    </select>
                </div>
                <div class="igc-settings-row igc-textarea-row">
                    <label for="igc_descriptive_template_text">Template:</label>
                    <textarea id="igc_descriptive_template_text" rows="6" placeholder="Using built-in default..."></textarea>
                </div>
                <div class="igc-settings-row">
                    <button id="igc_descriptive_template_reset" class="menu_button">
                        <i class="fa-solid fa-rotate-left"></i> Reset to Default
                    </button>
                </div>
            </div>

            <div class="igc-settings-row">
                <label for="igc_prompt_engine_mode">Prompt Engine:</label>
                <select id="igc_prompt_engine_mode">
                    <option value="raw">Raw (recommended)</option>
                    <option value="quiet_then_raw">Quiet then Raw fallback</option>
                    <option value="quiet_only">Quiet only</option>
                </select>
            </div>

            <div class="igc-settings-row">
                <label for="igc_raw_context_mode">Raw Context Mode:</label>
                <select id="igc_raw_context_mode">
                    <option value="recent_context">Recent context (recommended)</option>
                    <option value="template_only">Template only</option>
                    <option value="full_context">Full context (capped)</option>
                </select>
            </div>

            <div class="igc-settings-row" id="igc_raw_context_messages_row">
                <label for="igc_raw_context_messages">Recent Messages:</label>
                <input id="igc_raw_context_messages" type="number" min="1" max="10" step="1">
            </div>

            <div class="igc-settings-row" id="igc_raw_context_chars_row">
                <label for="igc_raw_context_chars_per_message">Chars Per Message:</label>
                <input id="igc_raw_context_chars_per_message" type="number" min="100" max="1000" step="50">
            </div>

            <div class="igc-settings-row">
                <label for="igc_raw_response_length">Raw Response Length:</label>
                <input id="igc_raw_response_length" type="number" min="64" max="512" step="16">
            </div>

            <!-- OpenRouter (Image Editing) -->
            <div class="igc-section-header">OpenRouter (Image Editing)</div>
            <div class="igc-settings-row">
                <label for="igc_openrouter_api_key">API Key:</label>
                <input id="igc_openrouter_api_key" type="password" placeholder="sk-or-...">
            </div>

            <!-- Generate Button -->
            <div class="igc-settings-row">
                <button id="igc_generate_button" class="menu_button igc-generate-button">
                    <i class="fa-solid fa-wand-magic-sparkles"></i> Generate Image
                </button>
                <button id="igc_edit_button" class="menu_button igc-generate-button">
                    <i class="fa-solid fa-pen-to-square"></i> Edit Image
                </button>
            </div>
        </div>
    </div>
</div>
